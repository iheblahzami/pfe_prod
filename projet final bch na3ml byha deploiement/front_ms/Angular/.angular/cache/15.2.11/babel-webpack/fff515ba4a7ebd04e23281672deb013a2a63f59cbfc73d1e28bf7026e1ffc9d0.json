{"ast":null,"code":"import { catchError } from \"rxjs/operators\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ServiceBudget {\n  constructor(http) {\n    this.http = http;\n    // private baseUrl = 'http://172.171.78.224:8000/budget';\n    this.baseUrl = 'http://127.0.0.1:8000/budget';\n  }\n  // Get all budgets\n  getBudgets() {\n    return this.http.get(`${this.baseUrl}`);\n  }\n  // Get a budget by ID\n  getBudget(id) {\n    return this.http.get(`${this.baseUrl}/${id}`);\n  }\n  // Create a new budget\n  createBudget(budget) {\n    return this.http.post(`${this.baseUrl}/add`, budget);\n  }\n  // Update an existing budget\n  updateBudget(id, budget) {\n    return this.http.put(`${this.baseUrl}/${id}/edit`, budget);\n  }\n  // Delete a budget by ID\n  deleteBudget(id) {\n    return this.http.delete(`${this.baseUrl}/${id}`);\n  }\n  // Get budgets by month\n  getBudgetsByMonth(month) {\n    return this.http.get(`${this.baseUrl}/budgets/${month}`);\n  }\n  addBudgetWithMonth(newBudgetData, month) {\n    const url = `${this.baseUrl}/add/${month}`;\n    return this.http.post(url, newBudgetData).pipe(catchError(this.handleError));\n  }\n  handleError(error) {\n    console.error('An error occurred', error);\n    return Promise.reject(error.message || error);\n  }\n  // Fetch transactions for a specific budget\n  getTransactionsForBudget(budgetId) {\n    return this.http.get(`${this.baseUrl}/${budgetId}/transactions`);\n  }\n  // Method to fetch the name of the budget by its ID\n  // Method to get a budget by its name\n  getBudgetByName(name) {\n    return this.http.get(`${this.baseUrl}/${name}`);\n  }\n}\nServiceBudget.ɵfac = function ServiceBudget_Factory(t) {\n  return new (t || ServiceBudget)(i0.ɵɵinject(i1.HttpClient));\n};\nServiceBudget.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ServiceBudget,\n  factory: ServiceBudget.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAIA,SAAQA,UAAU,QAAO,gBAAgB;;;AAOzC,OAAM,MAAOC,aAAa;EAKxBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IAJzB;IACU,YAAO,GAAG,8BAA8B;EAGT;EAExC;EACAC,UAAU;IACR,OAAO,IAAI,CAACD,IAAI,CAACE,GAAG,CAAW,GAAG,IAAI,CAACC,OAAO,EAAE,CAAC;EACnD;EAEA;EACAC,SAAS,CAACC,EAAU;IAClB,OAAO,IAAI,CAACL,IAAI,CAACE,GAAG,CAAS,GAAG,IAAI,CAACC,OAAO,IAAIE,EAAE,EAAE,CAAC;EACvD;EAEA;EACAC,YAAY,CAACC,MAAc;IACzB,OAAO,IAAI,CAACP,IAAI,CAACQ,IAAI,CAAS,GAAG,IAAI,CAACL,OAAO,MAAM,EAAEI,MAAM,CAAC;EAC9D;EAEA;EACAE,YAAY,CAACJ,EAAU,EAAEE,MAAc;IACrC,OAAO,IAAI,CAACP,IAAI,CAACU,GAAG,CAAS,GAAG,IAAI,CAACP,OAAO,IAAIE,EAAE,OAAO,EAAEE,MAAM,CAAC;EACpE;EAEA;EACAI,YAAY,CAACN,EAAU;IACrB,OAAO,IAAI,CAACL,IAAI,CAACY,MAAM,CAAO,GAAG,IAAI,CAACT,OAAO,IAAIE,EAAE,EAAE,CAAC;EACxD;EAGA;EACAQ,iBAAiB,CAACC,KAAa;IAC7B,OAAO,IAAI,CAACd,IAAI,CAACE,GAAG,CAAW,GAAG,IAAI,CAACC,OAAO,YAAYW,KAAK,EAAE,CAAC;EACpE;EAEAC,kBAAkB,CAACC,aAAkB,EAAEF,KAAa;IAClD,MAAMG,GAAG,GAAG,GAAG,IAAI,CAACd,OAAO,QAAQW,KAAK,EAAE;IAC1C,OAAO,IAAI,CAACd,IAAI,CAACQ,IAAI,CAAMS,GAAG,EAAED,aAAa,CAAC,CAC3CE,IAAI,CACHrB,UAAU,CAAC,IAAI,CAACsB,WAAW,CAAC,CAC7B;EAGL;EACQA,WAAW,CAACC,KAAU;IAC5BC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;IACzC,OAAOE,OAAO,CAACC,MAAM,CAACH,KAAK,CAACI,OAAO,IAAIJ,KAAK,CAAC;EAC/C;EAGA;EACAK,wBAAwB,CAACC,QAAgB;IACvC,OAAO,IAAI,CAAC1B,IAAI,CAACE,GAAG,CAAgB,GAAG,IAAI,CAACC,OAAO,IAAIuB,QAAQ,eAAe,CAAC;EACjF;EAGA;EACA;EACAC,eAAe,CAACC,IAAY;IAC1B,OAAO,IAAI,CAAC5B,IAAI,CAACE,GAAG,CAAS,GAAG,IAAI,CAACC,OAAO,IAAIyB,IAAI,EAAE,CAAC;EACzD;;;mBA/DW9B,aAAa;AAAA;;SAAbA,aAAa;EAAA+B,SAAb/B,aAAa;EAAAgC,YAFZ;AAAM","names":["catchError","ServiceBudget","constructor","http","getBudgets","get","baseUrl","getBudget","id","createBudget","budget","post","updateBudget","put","deleteBudget","delete","getBudgetsByMonth","month","addBudgetWithMonth","newBudgetData","url","pipe","handleError","error","console","Promise","reject","message","getTransactionsForBudget","budgetId","getBudgetByName","name","factory","providedIn"],"sourceRoot":"","sources":["G:\\projet final\\front_ms\\front-budget22-master\\src\\app\\services\\BudgetServiceImpl.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport {Budget} from \"../models/Budget\";\nimport {catchError} from \"rxjs/operators\";\nimport {Transaction} from \"../models/Transaction\";\nimport {environment} from \"../../environments/environment\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ServiceBudget {\n // private baseUrl = 'http://172.171.78.224:8000/budget';\n   private baseUrl = 'http://127.0.0.1:8000/budget';\n\n\n  constructor(private http: HttpClient) { }\n\n  // Get all budgets\n  getBudgets(): Observable<Budget[]> {\n    return this.http.get<Budget[]>(`${this.baseUrl}`);\n  }\n\n  // Get a budget by ID\n  getBudget(id: number): Observable<Budget> {\n    return this.http.get<Budget>(`${this.baseUrl}/${id}`);\n  }\n\n  // Create a new budget\n  createBudget(budget: Budget): Observable<Budget> {\n    return this.http.post<Budget>(`${this.baseUrl}/add`, budget);\n  }\n\n  // Update an existing budget\n  updateBudget(id: number, budget: Budget): Observable<Budget> {\n    return this.http.put<Budget>(`${this.baseUrl}/${id}/edit`, budget);\n  }\n\n  // Delete a budget by ID\n  deleteBudget(id: number): Observable<void> {\n    return this.http.delete<void>(`${this.baseUrl}/${id}`);\n  }\n\n\n  // Get budgets by month\n  getBudgetsByMonth(month: string): Observable<Budget[]> {\n    return this.http.get<Budget[]>(`${this.baseUrl}/budgets/${month}`);\n  }\n\n  addBudgetWithMonth(newBudgetData: any, month: string): Observable<any> {\n    const url = `${this.baseUrl}/add/${month}`;\n    return this.http.post<any>(url, newBudgetData)\n      .pipe(\n        catchError(this.handleError)\n      );\n\n\n  }\n  private handleError(error: any): Promise<any> {\n    console.error('An error occurred', error);\n    return Promise.reject(error.message || error);\n  }\n\n\n  // Fetch transactions for a specific budget\n  getTransactionsForBudget(budgetId: number): Observable<Transaction[]> {\n    return this.http.get<Transaction[]>(`${this.baseUrl}/${budgetId}/transactions`);\n  }\n\n\n  // Method to fetch the name of the budget by its ID\n  // Method to get a budget by its name\n  getBudgetByName(name: string): Observable<Budget> {\n    return this.http.get<Budget>(`${this.baseUrl}/${name}`);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}