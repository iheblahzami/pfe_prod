{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/BudgetServiceImpl\";\nexport class EditBudgetComponent {\n  constructor(formBuilder, route, budgetService) {\n    this.formBuilder = formBuilder;\n    this.route = route;\n    this.budgetService = budgetService;\n    this.budgetForm = this.formBuilder.group({\n      nomBudget: ['', Validators.required],\n      montantBudget: ['', Validators.required],\n      incomeId: ['', Validators.required],\n      categories: ['', Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.budgetId = params['id'];\n      this.loadBudgetDetails();\n    });\n  }\n  loadBudgetDetails() {\n    this.budgetService.getBudget(this.budgetId).subscribe(data => {\n      this.budgetForm.patchValue(data); // Populate form fields with budget details\n    }, error => {\n      console.error('Error fetching budget details:', error);\n    });\n  }\n  onSubmit() {\n    if (this.budgetForm.invalid) {\n      return;\n    }\n    this.budgetService.updateBudget(this.budgetId, this.budgetForm.value).subscribe(() => {\n      console.log('Budget updated successfully');\n      // Optionally, redirect or perform any other action upon successful update\n    }, error => {\n      console.error('Error updating budget:', error);\n    });\n  }\n}\nEditBudgetComponent.ɵfac = function EditBudgetComponent_Factory(t) {\n  return new (t || EditBudgetComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.ServiceBudget));\n};\nEditBudgetComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditBudgetComponent,\n  selectors: [[\"app-edit-budget\"]],\n  decls: 20,\n  vars: 1,\n  consts: [[1, \"edit-budget-form\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"nomBudget\"], [\"type\", \"text\", \"id\", \"nomBudget\", \"formControlName\", \"nomBudget\", \"placeholder\", \"Enter budget name\"], [\"for\", \"montantBudget\"], [\"type\", \"number\", \"id\", \"montantBudget\", \"formControlName\", \"montantBudget\", \"placeholder\", \"Enter budget amount\"], [\"for\", \"incomeId\"], [\"type\", \"number\", \"id\", \"incomeId\", \"formControlName\", \"incomeId\", \"placeholder\", \"Enter income ID\"], [\"for\", \"categories\"], [\"type\", \"text\", \"id\", \"categories\", \"formControlName\", \"categories\", \"placeholder\", \"Enter categories\"], [\"type\", \"submit\"]],\n  template: function EditBudgetComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function EditBudgetComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"label\", 3);\n      i0.ɵɵtext(4, \"Nom Budget:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"input\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 2)(7, \"label\", 5);\n      i0.ɵɵtext(8, \"Montant Budget:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 2)(11, \"label\", 7);\n      i0.ɵɵtext(12, \"Income ID:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 2)(15, \"label\", 9);\n      i0.ɵɵtext(16, \"Categories:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"input\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"button\", 11);\n      i0.ɵɵtext(19, \"Save Changes\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.budgetForm);\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\".edit-budget-form[_ngcontent-%COMP%] {\\n  max-width: 400px;\\n  margin: 0 auto;\\n  padding: 20px;\\n  background-color: #f9f9f9;\\n  border-radius: 10px;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n\\ninput[type=\\\"text\\\"][_ngcontent-%COMP%], input[type=\\\"number\\\"][_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  font-size: 16px;\\n  border-radius: 5px;\\n  border: 1px solid #ccc;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  display: block;\\n  width: 100%;\\n  padding: 10px;\\n  font-size: 16px;\\n  color: #fff;\\n  background-color: #007bff;\\n  border: none;\\n  border-radius: 5px;\\n  cursor: pointer;\\n  transition: background-color 0.3s ease;\\n}\\n\\nbutton[_ngcontent-%COMP%]:hover {\\n  background-color: #0056b3;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZWRpdC1idWRnZXQvZWRpdC1idWRnZXQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QsYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7O0VBRUUsV0FBVztFQUNYLGFBQWE7RUFDYixlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxXQUFXO0VBQ1gsYUFBYTtFQUNiLGVBQWU7RUFDZixXQUFXO0VBQ1gseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLHNDQUFzQztBQUN4Qzs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQiIsInNvdXJjZXNDb250ZW50IjpbIi5lZGl0LWJ1ZGdldC1mb3JtIHtcbiAgbWF4LXdpZHRoOiA0MDBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIHBhZGRpbmc6IDIwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG59XG5cbi5mb3JtLWdyb3VwIHtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cblxubGFiZWwge1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuaW5wdXRbdHlwZT1cInRleHRcIl0sXG5pbnB1dFt0eXBlPVwibnVtYmVyXCJdIHtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xufVxuXG5idXR0b24ge1xuICBkaXNwbGF5OiBibG9jaztcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgY29sb3I6ICNmZmY7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlO1xufVxuXG5idXR0b246aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1NmIzO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;;AAUnE,OAAM,MAAOC,mBAAmB;EAI9BC,YACUC,WAAwB,EACxBC,KAAqB,EACrBC,aAA4B;IAF5B,gBAAW,GAAXF,WAAW;IACX,UAAK,GAALC,KAAK;IACL,kBAAa,GAAbC,aAAa;IAErB,IAAI,CAACC,UAAU,GAAG,IAAI,CAACH,WAAW,CAACI,KAAK,CAAC;MACvCC,SAAS,EAAE,CAAC,EAAE,EAAER,UAAU,CAACS,QAAQ,CAAC;MACpCC,aAAa,EAAE,CAAC,EAAE,EAAEV,UAAU,CAACS,QAAQ,CAAC;MACxCE,QAAQ,EAAE,CAAC,EAAE,EAAEX,UAAU,CAACS,QAAQ,CAAC;MACnCG,UAAU,EAAE,CAAC,EAAE,EAAEZ,UAAU,CAACS,QAAQ;KACrC,CAAC;EACJ;EAEAI,QAAQ;IACN,IAAI,CAACT,KAAK,CAACU,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACnC,IAAI,CAACE,QAAQ,GAAGF,MAAM,CAAC,IAAI,CAAC;MAC5B,IAAI,CAACG,iBAAiB,EAAE;IAC1B,CAAC,CAAC;EACJ;EAEAA,iBAAiB;IACf,IAAI,CAACZ,aAAa,CAACa,SAAS,CAAC,IAAI,CAACF,QAAQ,CAAC,CAACD,SAAS,CAClDI,IAAS,IAAI;MACZ,IAAI,CAACb,UAAU,CAACc,UAAU,CAACD,IAAI,CAAC,CAAC,CAAC;IACpC,CAAC,EACDE,KAAK,IAAG;MACNC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACxD,CAAC,CACF;EACH;EAEAE,QAAQ;IACN,IAAI,IAAI,CAACjB,UAAU,CAACkB,OAAO,EAAE;MAC3B;;IAGF,IAAI,CAACnB,aAAa,CAACoB,YAAY,CAAC,IAAI,CAACT,QAAQ,EAAE,IAAI,CAACV,UAAU,CAACoB,KAAK,CAAC,CAACX,SAAS,CAC7E,MAAK;MACHO,OAAO,CAACK,GAAG,CAAC,6BAA6B,CAAC;MAC1C;IACF,CAAC,EACDN,KAAK,IAAG;MACNC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD,CAAC,CACF;EACH;;;mBAjDWpB,mBAAmB;AAAA;;QAAnBA,mBAAmB;EAAA2B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCQhCC,8BAA8B;MACGA;QAAA,OAAYC,cAAU;MAAA,EAAC;MACpDD,8BAAwB;MACCA,2BAAW;MAAAA,iBAAQ;MAC1CA,2BAA8F;MAChGA,iBAAM;MACNA,8BAAwB;MACKA,+BAAe;MAAAA,iBAAQ;MAClDA,2BAA0G;MAC5GA,iBAAM;MACNA,+BAAwB;MACAA,2BAAU;MAAAA,iBAAQ;MACxCA,4BAA4F;MAC9FA,iBAAM;MACNA,+BAAwB;MACEA,4BAAW;MAAAA,iBAAQ;MAC3CA,6BAA+F;MACjGA,iBAAM;MACNA,mCAAsB;MAAAA,6BAAY;MAAAA,iBAAS;;;MAjBvCA,eAAwB;MAAxBA,0CAAwB","names":["Validators","EditBudgetComponent","constructor","formBuilder","route","budgetService","budgetForm","group","nomBudget","required","montantBudget","incomeId","categories","ngOnInit","params","subscribe","budgetId","loadBudgetDetails","getBudget","data","patchValue","error","console","onSubmit","invalid","updateBudget","value","log","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["G:\\projet final\\front_ms\\front-budget22-master\\src\\app\\edit-budget\\edit-budget.component.ts","G:\\projet final\\front_ms\\front-budget22-master\\src\\app\\edit-budget\\edit-budget.component.html"],"sourcesContent":["// edit-budget.component.ts\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport {ServiceBudget} from \"../services/BudgetServiceImpl\";\n\n\n@Component({\n  selector: 'app-edit-budget',\n  templateUrl: './edit-budget.component.html',\n  styleUrls: ['./edit-budget.component.css']\n})\nexport class EditBudgetComponent implements OnInit {\n  budgetForm: FormGroup;\n  budgetId!: number;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private route: ActivatedRoute,\n    private budgetService: ServiceBudget\n  ) {\n    this.budgetForm = this.formBuilder.group({\n      nomBudget: ['', Validators.required],\n      montantBudget: ['', Validators.required],\n      incomeId: ['', Validators.required],\n      categories: ['', Validators.required]\n    });\n  }\n\n  ngOnInit(): void {\n    this.route.params.subscribe(params => {\n      this.budgetId = params['id'];\n      this.loadBudgetDetails();\n    });\n  }\n\n  loadBudgetDetails(): void {\n    this.budgetService.getBudget(this.budgetId).subscribe(\n      (data: any) => {\n        this.budgetForm.patchValue(data); // Populate form fields with budget details\n      },\n      error => {\n        console.error('Error fetching budget details:', error);\n      }\n    );\n  }\n\n  onSubmit(): void {\n    if (this.budgetForm.invalid) {\n      return;\n    }\n\n    this.budgetService.updateBudget(this.budgetId, this.budgetForm.value).subscribe(\n      () => {\n        console.log('Budget updated successfully');\n        // Optionally, redirect or perform any other action upon successful update\n      },\n      error => {\n        console.error('Error updating budget:', error);\n      }\n    );\n  }\n}\n","<!--&lt;!&ndash; edit-budget.component.html &ndash;&gt;-->\n<!--<form [formGroup]=\"budgetForm\" (ngSubmit)=\"onSubmit()\">-->\n<!--  <div>-->\n<!--    <label for=\"nomBudget\">Nom Budget:</label>-->\n<!--    <input type=\"text\" id=\"nomBudget\" formControlName=\"nomBudget\">-->\n<!--  </div>-->\n<!--  <div>-->\n<!--    <label for=\"montantBudget\">Montant Budget:</label>-->\n<!--    <input type=\"number\" id=\"montantBudget\" formControlName=\"montantBudget\">-->\n<!--  </div>-->\n<!--  <div>-->\n<!--    <label for=\"incomeId\">Income ID:</label>-->\n<!--    <input type=\"number\" id=\"incomeId\" formControlName=\"incomeId\">-->\n<!--  </div>-->\n<!--  <div>-->\n<!--    <label for=\"categories\">Categories:</label>-->\n<!--    <input type=\"text\" id=\"categories\" formControlName=\"categories\">-->\n<!--  </div>-->\n<!--  <button type=\"submit\">Save Changes</button>-->\n<!--</form>-->\n<div class=\"edit-budget-form\">\n  <form [formGroup]=\"budgetForm\" (ngSubmit)=\"onSubmit()\">\n    <div class=\"form-group\">\n      <label for=\"nomBudget\">Nom Budget:</label>\n      <input type=\"text\" id=\"nomBudget\" formControlName=\"nomBudget\" placeholder=\"Enter budget name\">\n    </div>\n    <div class=\"form-group\">\n      <label for=\"montantBudget\">Montant Budget:</label>\n      <input type=\"number\" id=\"montantBudget\" formControlName=\"montantBudget\" placeholder=\"Enter budget amount\">\n    </div>\n    <div class=\"form-group\">\n      <label for=\"incomeId\">Income ID:</label>\n      <input type=\"number\" id=\"incomeId\" formControlName=\"incomeId\" placeholder=\"Enter income ID\">\n    </div>\n    <div class=\"form-group\">\n      <label for=\"categories\">Categories:</label>\n      <input type=\"text\" id=\"categories\" formControlName=\"categories\" placeholder=\"Enter categories\">\n    </div>\n    <button type=\"submit\">Save Changes</button>\n  </form>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}