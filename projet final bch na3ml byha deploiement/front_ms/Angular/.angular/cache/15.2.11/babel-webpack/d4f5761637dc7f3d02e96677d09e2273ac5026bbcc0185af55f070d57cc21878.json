{"ast":null,"code":"import { Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/IncomeServiceImpl\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nfunction EditIncomeComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h2\");\n    i0.ɵɵtext(2, \"Edit Income\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 2);\n    i0.ɵɵlistener(\"ngSubmit\", function EditIncomeComponent_div_0_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onSubmit());\n    });\n    i0.ɵɵelementStart(4, \"div\", 3)(5, \"label\", 4);\n    i0.ɵɵtext(6, \"Month:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"input\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 3)(9, \"label\", 6);\n    i0.ɵɵtext(10, \"Income Amount:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"input\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 8);\n    i0.ɵɵtext(13, \"Save\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.incomeForm);\n  }\n}\nexport class EditIncomeComponent {\n  constructor(route, router, incomeService, fb) {\n    this.route = route;\n    this.router = router;\n    this.incomeService = incomeService;\n    this.fb = fb;\n    this.income = {\n      id: 0,\n      mois: '',\n      montantIncome: 0\n    }; // Initialize with default values\n  }\n\n  ngOnInit() {\n    this.initForm();\n    this.getIncomeDetails();\n  }\n  initForm() {\n    this.incomeForm = this.fb.group({\n      mois: ['', Validators.required],\n      montantIncome: [null, Validators.required]\n    });\n  }\n  getIncomeDetails() {\n    const id = this.route.snapshot.params.id;\n    this.incomeService.getIncome(id).subscribe(data => {\n      this.income = data;\n      // Patch the form values with the fetched income data\n      this.incomeForm.patchValue({\n        mois: this.income.mois,\n        montantIncome: this.income.montantIncome\n      });\n    }, error => {\n      console.error('Error fetching income details:', error);\n    });\n  }\n  onSubmit() {\n    // Update the income object with the form values\n    this.income.mois = this.incomeForm.value.mois;\n    this.income.montantIncome = this.incomeForm.value.montantIncome;\n    // Call the service method to update the income\n    this.incomeService.updateIncome(this.income.id, this.income).subscribe(() => {\n      console.log('Income updated successfully');\n      // Redirect to the incomes list page\n      this.router.navigate(['/incomes']);\n    }, error => {\n      console.error('Error updating income:', error);\n    });\n  }\n}\nEditIncomeComponent.ɵfac = function EditIncomeComponent_Factory(t) {\n  return new (t || EditIncomeComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.IncomeService), i0.ɵɵdirectiveInject(i3.FormBuilder));\n};\nEditIncomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditIncomeComponent,\n  selectors: [[\"app-edit-income\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"edit-income-form\", 4, \"ngIf\"], [1, \"edit-income-form\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"mois\"], [\"type\", \"text\", \"id\", \"mois\", \"name\", \"mois\", \"formControlName\", \"mois\", \"placeholder\", \"Enter month\", \"required\", \"\"], [\"for\", \"montantIncome\"], [\"type\", \"number\", \"id\", \"montantIncome\", \"name\", \"montantIncome\", \"formControlName\", \"montantIncome\", \"placeholder\", \"Enter income amount\", \"required\", \"\"], [\"type\", \"submit\"]],\n  template: function EditIncomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, EditIncomeComponent_div_0_Template, 14, 1, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.income);\n    }\n  },\n  dependencies: [i4.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\".edit-income-form[_ngcontent-%COMP%] {\\n  max-width: 400px;\\n  margin: 0 auto;\\n  padding: 20px;\\n  background-color: #f9f9f9;\\n  border-radius: 10px;\\n}\\n\\nh2[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 20px;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n\\ninput[type=\\\"text\\\"][_ngcontent-%COMP%], input[type=\\\"number\\\"][_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  font-size: 16px;\\n  border-radius: 5px;\\n  border: 1px solid #ccc;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  display: block;\\n  width: 100%;\\n  padding: 10px;\\n  font-size: 16px;\\n  color: #fff;\\n  background-color: #007bff;\\n  border: none;\\n  border-radius: 5px;\\n  cursor: pointer;\\n  transition: background-color 0.3s ease;\\n}\\n\\nbutton[_ngcontent-%COMP%]:hover {\\n  background-color: #0056b3;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZWRpdC1pbmNvbWUvZWRpdC1pbmNvbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QsYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBOztFQUVFLFdBQVc7RUFDWCxhQUFhO0VBQ2IsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxjQUFjO0VBQ2QsV0FBVztFQUNYLGFBQWE7RUFDYixlQUFlO0VBQ2YsV0FBVztFQUNYLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixzQ0FBc0M7QUFDeEM7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0IiLCJzb3VyY2VzQ29udGVudCI6WyIuZWRpdC1pbmNvbWUtZm9ybSB7XG4gIG1heC13aWR0aDogNDAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBwYWRkaW5nOiAyMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xufVxuXG5oMiB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cblxuLmZvcm0tZ3JvdXAge1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG5sYWJlbCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG5pbnB1dFt0eXBlPVwidGV4dFwiXSxcbmlucHV0W3R5cGU9XCJudW1iZXJcIl0ge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMTBweDtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG59XG5cbmJ1dHRvbiB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMTBweDtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBjb2xvcjogI2ZmZjtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7XG59XG5cbmJ1dHRvbjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDU2YjM7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AAIA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;;;;;;ICUnEC,8BAA6C;IACvCA,2BAAW;IAAAA,iBAAK;IACpBA,+BAAuD;IAAxBA;MAAAA;MAAA;MAAA,OAAYA,gCAAU;IAAA,EAAC;IACpDA,8BAAwB;IACJA,sBAAM;IAAAA,iBAAQ;IAChCA,2BAAmG;IACrGA,iBAAM;IACNA,8BAAwB;IACKA,+BAAc;IAAAA,iBAAQ;IACjDA,4BAAwI;IAC1IA,iBAAM;IACNA,kCAAsB;IAAAA,qBAAI;IAAAA,iBAAS;;;;IAT/BA,eAAwB;IAAxBA,6CAAwB;;;ADLhC,OAAM,MAAOC,mBAAmB;EAK9BC,YACUC,KAAqB,EACrBC,MAAc,EACdC,aAA4B,EAC5BC,EAAe;IAHf,UAAK,GAALH,KAAK;IACL,WAAM,GAANC,MAAM;IACN,kBAAa,GAAbC,aAAa;IACb,OAAE,GAAFC,EAAE;IANZ,WAAM,GAAW;MAAEC,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE,EAAE;MAAEC,aAAa,EAAE;IAAC,CAAE,CAAC,CAAC;EAOpD;;EAEJC,QAAQ;IACN,IAAI,CAACC,QAAQ,EAAE;IACf,IAAI,CAACC,gBAAgB,EAAE;EACzB;EAEQD,QAAQ;IACd,IAAI,CAACE,UAAU,GAAG,IAAI,CAACP,EAAE,CAACQ,KAAK,CAAC;MAC9BN,IAAI,EAAE,CAAC,EAAE,EAAET,UAAU,CAACgB,QAAQ,CAAC;MAC/BN,aAAa,EAAE,CAAC,IAAI,EAAEV,UAAU,CAACgB,QAAQ;KAC1C,CAAC;EACJ;EAEQH,gBAAgB;IACtB,MAAML,EAAE,GAAG,IAAI,CAACJ,KAAK,CAACa,QAAQ,CAACC,MAAM,CAACV,EAAE;IACxC,IAAI,CAACF,aAAa,CAACa,SAAS,CAACX,EAAE,CAAC,CAACY,SAAS,CACvCC,IAAY,IAAI;MACf,IAAI,CAACC,MAAM,GAAGD,IAAI;MAClB;MACA,IAAI,CAACP,UAAU,CAACS,UAAU,CAAC;QACzBd,IAAI,EAAE,IAAI,CAACa,MAAM,CAACb,IAAI;QACtBC,aAAa,EAAE,IAAI,CAACY,MAAM,CAACZ;OAC5B,CAAC;IACJ,CAAC,EACDc,KAAK,IAAG;MACNC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACxD,CAAC,CACF;EACH;EAEAE,QAAQ;IACN;IACA,IAAI,CAACJ,MAAM,CAACb,IAAI,GAAG,IAAI,CAACK,UAAU,CAACa,KAAK,CAAClB,IAAI;IAC7C,IAAI,CAACa,MAAM,CAACZ,aAAa,GAAG,IAAI,CAACI,UAAU,CAACa,KAAK,CAACjB,aAAa;IAE/D;IACA,IAAI,CAACJ,aAAa,CAACsB,YAAY,CAAC,IAAI,CAACN,MAAM,CAACd,EAAE,EAAE,IAAI,CAACc,MAAM,CAAC,CAACF,SAAS,CACpE,MAAK;MACHK,OAAO,CAACI,GAAG,CAAC,6BAA6B,CAAC;MAC1C;MACA,IAAI,CAACxB,MAAM,CAACyB,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;IACpC,CAAC,EACDN,KAAK,IAAG;MACNC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD,CAAC,CACF;EACH;;;mBAzDWtB,mBAAmB;AAAA;;QAAnBA,mBAAmB;EAAA6B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCGhClC,qEAaM;;;MAbyBA,iCAAY","names":["Validators","i0","EditIncomeComponent","constructor","route","router","incomeService","fb","id","mois","montantIncome","ngOnInit","initForm","getIncomeDetails","incomeForm","group","required","snapshot","params","getIncome","subscribe","data","income","patchValue","error","console","onSubmit","value","updateIncome","log","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["G:\\projet final\\front_ms\\front-budget22-master\\src\\app\\edit-income\\edit-income.component.ts","G:\\projet final\\front_ms\\front-budget22-master\\src\\app\\edit-income\\edit-income.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Income } from \"../models/Income\";\nimport { IncomeService } from \"../services/IncomeServiceImpl\";\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\n\n@Component({\n  selector: 'app-edit-income',\n  templateUrl: './edit-income.component.html',\n  styleUrls: ['./edit-income.component.css']\n})\nexport class EditIncomeComponent implements OnInit {\n\n  incomeForm!: FormGroup; // Add \"!\" to tell TypeScript that it will be initialized in ngOnInit\n  income: Income = { id: 0, mois: '', montantIncome: 0 }; // Initialize with default values\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private incomeService: IncomeService,\n    private fb: FormBuilder\n  ) { }\n\n  ngOnInit(): void {\n    this.initForm();\n    this.getIncomeDetails();\n  }\n\n  private initForm(): void {\n    this.incomeForm = this.fb.group({\n      mois: ['', Validators.required],\n      montantIncome: [null, Validators.required]\n    });\n  }\n\n  private getIncomeDetails(): void {\n    const id = this.route.snapshot.params.id;\n    this.incomeService.getIncome(id).subscribe(\n      (data: Income) => {\n        this.income = data;\n        // Patch the form values with the fetched income data\n        this.incomeForm.patchValue({\n          mois: this.income.mois,\n          montantIncome: this.income.montantIncome\n        });\n      },\n      error => {\n        console.error('Error fetching income details:', error);\n      }\n    );\n  }\n\n  onSubmit(): void {\n    // Update the income object with the form values\n    this.income.mois = this.incomeForm.value.mois;\n    this.income.montantIncome = this.incomeForm.value.montantIncome;\n\n    // Call the service method to update the income\n    this.incomeService.updateIncome(this.income.id, this.income).subscribe(\n      () => {\n        console.log('Income updated successfully');\n        // Redirect to the incomes list page\n        this.router.navigate(['/incomes']);\n      },\n      error => {\n        console.error('Error updating income:', error);\n      }\n    );\n  }\n}\n","<!--<div *ngIf=\"income\">-->\n<!--  <h2>Edit Income</h2>-->\n<!--  <form [formGroup]=\"incomeForm\" (ngSubmit)=\"onSubmit()\">-->\n<!--    <div>-->\n<!--      <label for=\"mois\">Month:</label>-->\n<!--      <input type=\"text\" id=\"mois\" name=\"mois\" formControlName=\"mois\" required>-->\n<!--    </div>-->\n<!--    <div>-->\n<!--      <label for=\"montantIncome\">Income Amount:</label>-->\n<!--      <input type=\"number\" id=\"montantIncome\" name=\"montantIncome\" formControlName=\"montantIncome\" required>-->\n<!--    </div>-->\n<!--    <button type=\"submit\">Save</button>-->\n<!--  </form>-->\n<!--</div>-->\n<div class=\"edit-income-form\" *ngIf=\"income\">\n  <h2>Edit Income</h2>\n  <form [formGroup]=\"incomeForm\" (ngSubmit)=\"onSubmit()\">\n    <div class=\"form-group\">\n      <label for=\"mois\">Month:</label>\n      <input type=\"text\" id=\"mois\" name=\"mois\" formControlName=\"mois\" placeholder=\"Enter month\" required>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"montantIncome\">Income Amount:</label>\n      <input type=\"number\" id=\"montantIncome\" name=\"montantIncome\" formControlName=\"montantIncome\" placeholder=\"Enter income amount\" required>\n    </div>\n    <button type=\"submit\">Save</button>\n  </form>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}